# 적외선 센서 어레이

적외선 센서 어레이는 버저와 7개의 적외선센서가 내장되어 있으며, 로보플러스 매니저를 통해 값을 확인하거나 기능을 설정할 수 있습니다.

## 테스트 및 설정할 수 있는 적외선 센서 어레이 기능

### 다이나믹셀 ID 설정

다이나믹셀은 고유 ID를 가지고 있으며, 제어기는 ID를 기준으로 각각의 다이나믹셀을 제어합니다. 이 명령을 통해 다이나믹셀의 ID를 관리할 수 있습니다.

([ID 바꾸기] 설명을 보시려면 여기를 참고하세요.)

#### 파라미터 속성

- 값을 설정하면, 전원을 차단해도 설정값이 저장됩니다.
- ID목록을 클릭하면 현재 바꿀 수 있는 ID 리스트를 확인할 수 있습니다.
- ID리스트에 나타나지 않는 값은 다른 다이나믹셀에서 사용하고 있는 ID입니다.
- ID는 제어기의 고유 ID인 200을 제외한 0~253까지 설정할 수 있습니다.

### 1~7번 적외선 센서 값

적외선 센서 어레이의 적외선 센서값을 읽어올 수 있습니다.

#### 파라미터 속성

- 적외선 센서 어레이의 현재 적외선 센서값을 읽어올 수 있습니다.
- 적외선 센서 어레이에 있는 적외선 수광부 센서에서 반사되는 적외선의 양을 측정한 것으로, 벽이나 물체가 가까이 있을수록, 물체 표면의 색이 밝을 수록 높은 값으로 측정됩니다.
- 값의 범위는 0~1023입니다.

#### RoboPlus Task 참고 명령어

- 파라미터 : [적외선 센서값]

### 버저 음계

적외선 센서 어레이에는 버저가 장착되어 있습니다. 버저 음계를 설정할 수 있습니다.

#### 파라미터 속성

- 버저 울림 시간을 설정하고, 버저 음계를 설정하면 음계에 따른 비프음을 낼 수 있습니다.
- 음계값은 0에서 51까지의 값을 사용합니다.
- 특수 멜로디 값은 0에서 26까지의 값을 사용합니다.
- 음계, 혹은 특수멜로디는 버저 울림 시간 설정값에 따라 선택됩니다.

#### RoboPlus Task 참고 명령어

- 파라미터 : [버저 음계]

 버저 울림 시간

적외선 센서 어레이에는 버저가 장착되어 있습니다. 버저 울림 시간을 설정할 수 있습니다.

#### 파라미터 속성

- 버저 울림 시간을 설정하고, 버저 음계를 설정하면 음계에 따른 비프음을 낼 수 있습니다.
- 0에서 50까지의 값을 사용하며, 1의 값은 0.1초와 같습니다.
- 254의 값으로 설정하면, 소리가 멈추지 않고 계속 울리게 됩니다.
- 255의 값으로 설정하면 특수 멜로디 연주 상태로 설정이 됩니다.
- 멜로디 연주가 끝나면 버저 울림 시간은 0으로 초기화 됩니다.

#### RoboPlus Task 참고 명령어

- 파라미터 : [버저 울림 시간]

### 감지 기준값 자동 설정

검은 색 감지 기준값 자동 찾기의 시작/마침 을 설정할 수 있습니다.

#### 파라미터 속성

- 켜짐을 누르면 LED가 깜박이며 감지기준값 설정으로 들어갑니다.
- 흰색과 검은색을 교차시키며 적외선센서를 감지시키면 자동으로 기준값이 설정 됩니다.
- 꺼짐을 누르면 종료합니다.
  ![img](/assets/images/sw/rplus1/manager/ir_array_auto_setting.png)

#### RoboPlus Task 참고 명령어

파라미터 : [감지 기준값 자동 설정]

### 적외선물체 감지 유무

적외선 센서 어레이의 물체 감지 기준 값에서 지정된 거리 값 이내로 물체가 감지되었는지 유/무를 판단하기 위해 사용하는 파라미터입니다.

#### 파라미터 속성

- 적외선 센서 어레이의 각 적외선 센서의 감지 값이 검은 색 감지 기준값보다 작으면 검은 색을 감지하였다고 판단하여 아래와 같이 검은 색 감지 유무값의 특정 Bit을 1로 셋팅해 줍니다. 동시에 해당 LED가 켜집니다.

- 10진수 값 으로 각 감지값이 더해진 형태로 출력됩니다.

| 2 진수 값  | 10 진수 값 | 검은색 감지 유무          |
| ------- | ------- | ------------------ |
| 0000001 | 1       | 1번 적외선 센서에 검은 색 감지 |
| 0000010 | 2       | 2번 적외선 센서에 검은 색 감지 |
| 0000100 | 4       | 3번 적외선 센서에 검은 색 감지 |
| 0001000 | 8       | 4번 적외선 센서에 검은 색 감지 |
| 0010000 | 16      | 5번 적외선 센서에 검은 색 감지 |
| 0100000 | 32      | 6번 적외선 센서에 검은 색 감지 |
| 1000000 | 64      | 7번 적외선 센서에 검은 색 감지 |

#### RoboPlus Task 참고 명령어

- 파라미터 : [적외선 물체 감지 유무]

### 적외선 감지 기준값

적외선 센서 어레이가 흰 색/검은 색을 판단하는 기준값입니다.

#### 파라미터 속성

- 적외선 물체 감지 유무를 판단하는 기준값을 개별 설정할 수 있습니다.
- 감지 기준값 자동 설정 파라미터를 이용 하면 전체적으 로 기준을 설정할 수 있습니다.
- 값의 범위는 0 ~ 1023입니다.
  ![img](/assets/images/sw/rplus1/manager/ir_array_threshold.png)

#### RoboPlus Task 참고 명령어

- 파라미터 : [물체 감지 기준값]

[ID 바꾸기]: ???
[적외선 센서값]: ???
[버저 음계]: ???
[버저 울림 시간]: ???
[감지 기준값 자동 설정]: ???
[적외선 물체 감지 유무]: ???
[물체 감지 기준값]: ???
